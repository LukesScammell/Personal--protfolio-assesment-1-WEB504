<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Comments — Luke Portfolio</title>

  <!-- Your base CSS -->
  <link rel="stylesheet" href="/variables.css"/>
  <!-- <link rel="stylesheet" href="styles/main.css"/> -->
  
  <!-- Add reCAPTCHA script -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body data-page="comments">

<header class="site-header">
  <div class="container nav">
    <div class="brand">
      <a href="index.html">Luke <span>Portfolio</span></a>
    </div>

   <nav>
  <ul>
    <li><a class="nav-link" href="index.html">Home</a></li>
    <li><a class="nav-link" href="projects.html">Projects</a></li>
    <li><a class="nav-link" href="skills.html">Skills</a></li>
    <li><a class="nav-link" href="contact.html">Comments</a></li>
  </ul>
</nav>
  </div>
</header>

<main class="container">

  <h1>Comments</h1>

  <div id="user-info" class="card" style="display:none;"></div>

  <div id="auth-container" class="card">
    <!-- Login Form -->
    <form id="login-form">
      <h2>Log In</h2>

      <label>Email</label>
      <input name="email" type="email" required/>

      <label>Password</label>
      <input name="password" type="password" required/>

      <button type="submit">Log In</button>

      <p class="message" id="login-message" aria-live="polite"></p>
      <p>No account? <a href="#" id="show-register">Register here</a></p>
    </form>

    <!-- Register Form -->
    <form id="register-form" style="display:none;">
      <h2>Register</h2>

      <label for="login-email">Email</label>
      <input id="login-email" name="email" type="email" required/>

      <label for="login-password">Password</label>
      <input id="login-password" name="password" type="password" required/>


      <label>Confirm Password</label>
      <input name="confirm" type="password" required/>

      <button type="submit">Register</button>

      <p class="message" id="register-message" aria-live="polite"></p>
      <p>Already have an account? <a href="#" id="show-login">Log in</a></p>

      <p style="font-size: 0.9rem;">
        Email/password accounts must verify their email before posting comments.
      </p>

      <!-- reCAPTCHA widget -->
      <div class="g-recaptcha" data-sitekey="6LdI3gssAAAAALE9ZRzyXFk4t0dLnvddFzPUpbk2"></div>
    </form>
  </div>

  <!-- Comments Section -->
  <section id="comment-section" class="card">
    <h2>Leave a comment</h2>

    <!-- Comment Form (shown when user is logged in AND email is verified) -->
    <form id="comment-form" style="display:none;">
      <label>Your Comment</label>
      <textarea name="content" rows="4" required></textarea>
      <button type="submit">Post Comment</button>
    </form>

    <h3>All comments</h3>
    <ul id="comment-list"></ul>
  </section>

</main>

<!-- Firebase & App scripts -->
<script type="module" src="firebaseConfig.js"></script>
<script type="module" src="auth.js"></script>
<script type="module" src="comments.js"></script>

<footer class="site-footer">
    <div class="container foot">
      <span>© 2025 Luke Scammell</span>
      <span>Built with pure HTML + CSS (no JS)</span>
    </div>
  </footer>
</body>
</html>
